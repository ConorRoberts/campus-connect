(this["webpackJsonpcampus-connect"]=this["webpackJsonpcampus-connect"]||[]).push([[0],{20:function(e,t,a){e.exports=a(40)},25:function(e,t,a){},26:function(e,t,a){},28:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(17),s=a.n(r);a(25),a(26);var o=a(11),i=a.n(o),l=a(18),u=a(7),m=(a(28),a(9)),p=a.n(m),d=p.a.initializeApp({apiKey:"AIzaSyCyDHGruN8xp9eVLQMLnZvRfebsz0Xf0PI",authDomain:"school-chat-app-b3b2e.firebaseapp.com",databaseURL:"https://school-chat-app-b3b2e.firebaseio.com",projectId:"school-chat-app-b3b2e",storageBucket:"school-chat-app-b3b2e.appspot.com",messagingSenderId:"1015167689558",appId:"1:1015167689558:web:38f0fe084e2aa585c0acf7",measurementId:"G-2W8824YD6F"}).firestore(),f=(p.a.auth(),new p.a.auth.GoogleAuthProvider,d),b=a(19),h=a.n(b),v=(a(37),a(38),a(39),a(12));function E(){var e=Object(n.useState)("MCS1000"),t=Object(u.a)(e,2),a=t[0],r=t[1],s=f.collection("University of Guelph"),o=Object(v.a)(s,{idField:"id"}),i=Object(u.a)(o,1)[0];return c.a.createElement("div",{className:"screen"},c.a.createElement("div",{className:"class-picker"},c.a.createElement("label",{for:"classes"},"Class:"),c.a.createElement("select",{onChange:function(e){return r(e.target.value)},id:"classes",name:"classes"},i&&i.map((function(e){return c.a.createElement("option",{value:e.id},e.id)})))),c.a.createElement(j,{currentClass:a}))}function g(e){var t=e.message.text;return c.a.createElement("div",{className:"message"},c.a.createElement("p",null,t))}function j(e){var t=Object(n.useRef)(),a=f.collection("University of Guelph").doc(e.currentClass).collection("messages"),r=a.orderBy("timestamp"),s=Object(v.a)(r,{idField:"id"}),o=Object(u.a)(s,1)[0],m=Object(n.useState)(""),p=Object(u.a)(m,2),d=p[0],b=p[1],E=function(){var e=Object(l.a)(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!d){e.next=6;break}return e.next=4,a.add({text:d,timestamp:h.a.firestore.FieldValue.serverTimestamp()});case 4:b(""),t.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",null,c.a.createElement("div",{className:"chat-window"},o&&o.map((function(e){return c.a.createElement(g,{key:e.id,message:e})})),c.a.createElement("div",{ref:t})),c.a.createElement("form",{className:"form-container",onSubmit:E},c.a.createElement("input",{className:"send-box",value:d,onChange:function(e){return b(e.target.value)},placeholder:"   Message..."}),c.a.createElement("button",{className:"send-btn",type:"submit"},"Send")))}s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.5f3fcfdb.chunk.js.map
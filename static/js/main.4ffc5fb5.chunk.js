(this["webpackJsonpcampus-connect"]=this["webpackJsonpcampus-connect"]||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/campus-splash.3195ce31.jpg"},24:function(e,t,a){e.exports=a(41)},30:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),l=a(21),r=a.n(l),s=a(5),o=a(9),i=a.n(o),u=(a(10),a(11),a(20),a(6)),m=(a(30),a(22)),h=a.n(m),p=a(13),d=a.n(p),f=d.a.initializeApp({apiKey:"AIzaSyCyDHGruN8xp9eVLQMLnZvRfebsz0Xf0PI",authDomain:"school-chat-app-b3b2e.firebaseapp.com",databaseURL:"https://school-chat-app-b3b2e.firebaseio.com",projectId:"school-chat-app-b3b2e",storageBucket:"school-chat-app-b3b2e.appspot.com",messagingSenderId:"1015167689558",appId:"1:1015167689558:web:38f0fe084e2aa585c0acf7",measurementId:"G-2W8824YD6F"}).firestore(),b=(d.a.auth(),new d.a.auth.GoogleAuthProvider,f);function E(e){var t=Object(n.useState)("None"),a=Object(s.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)("Queen's University"),i=Object(s.a)(o,2),m=i[0],h=i[1],p=b.collection("schools"),d=p.doc(m).collection("classes"),f=Object(u.a)(p,{idField:"id"}),E=Object(s.a)(f,1)[0],g=Object(u.a)(d,{idField:"id"}),j=Object(s.a)(g,1)[0];return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t,l,m)},className:"home-form-container"},c.a.createElement(v,{onChange:function(e){return h(e.target.value)},schools:E}),c.a.createElement(S,{onChange:function(e){return r(e.target.value)},classes:j}),c.a.createElement("button",null,"Submit")))}function v(e){var t=e.onChange,a=e.schools;return c.a.createElement("div",{className:"home-form-module"},c.a.createElement("label",{htmlFor:"input-school"},"School:"),c.a.createElement("select",{onChange:t,id:"input-school",name:"input-school",selected:"University of Guelph"},a&&a.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.id)}))))}function S(e){var t=e.onChange,a=e.classes;return c.a.createElement("div",{className:"home-form-module"},c.a.createElement("label",{htmlFor:"input-class"},"Class:"),c.a.createElement("select",{onChange:t,id:"input-class",name:"input-class",selected:"None"},a&&a.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.id)}))))}var g=function(e){var t=e.onSubmit;return c.a.createElement("div",{className:"Home"},c.a.createElement("header",null,c.a.createElement("h1",null,"App"),c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{href:"#"},"Home")),c.a.createElement("li",null,c.a.createElement("a",{href:"#contact"},"Contact"))))),c.a.createElement("main",null,c.a.createElement("div",{className:"splash-container"},c.a.createElement("h1",null,"Hello There"),c.a.createElement("img",{src:h.a,alt:"Campus splash"})),c.a.createElement(E,{onSubmit:function(){return t(!0)}})),c.a.createElement("footer",{id:"contact"},"This is contact info"))},j=a(15),C=a.n(j),O=a(23);a(39),a(40);function N(e){var t=e.setClass,a=e.currentClass,n=e.setSchool,l=e.currentSchool,r=e.classes,s=e.schools;return c.a.createElement("div",null,c.a.createElement("form",{className:e.className},c.a.createElement("label",{htmlFor:"input-school"},"School:"),c.a.createElement("select",{onChange:function(e){return n(e.target.value)},id:"input-school",name:"input-school",value:l},s&&s.map((function(e){return c.a.createElement("option",{value:e.id},e.id)}))),c.a.createElement("label",{htmlFor:"input-class"},"Class:"),c.a.createElement("select",{onChange:function(e){return t(e.target.value)},id:"input-class",name:"input-class",value:a},r&&r.map((function(e){return c.a.createElement("option",{value:e.id},e.id)})))))}function y(e){var t=e.setClass,a=e.currentClass,n=e.setSchool,l=e.currentSchool,r=e.classes,s=e.schools;return c.a.createElement("div",{className:"Chat"},c.a.createElement("div",{className:"course-info-container"},c.a.createElement(N,{className:"chat-picker",currentClass:a,currentSchool:l,setClass:t,setSchool:n,schools:s,classes:r})),c.a.createElement(k,{currentClass:a,currentSchool:l}))}function F(e){var t=e.message.text;return c.a.createElement("div",{className:"message"},c.a.createElement("p",null,t))}function k(e){var t=Object(n.useRef)(),a=b.collection(e.currentSchool).doc(e.currentClass).collection("messages"),l=a.orderBy("timestamp"),r=Object(u.a)(l,{idField:"id"}),o=Object(s.a)(r,1)[0],m=Object(n.useState)(""),h=Object(s.a)(m,2),p=h[0],d=h[1],f=function(){var e=Object(O.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!p){e.next=6;break}return e.next=4,a.add({text:p,timestamp:i.a.firestore.FieldValue.serverTimestamp()});case 4:d(""),t.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"chat-component"},c.a.createElement("div",{className:"chat-window"},o&&o.map((function(e){return c.a.createElement(F,{key:e.id,message:e})})),c.a.createElement("div",{ref:t})),c.a.createElement("form",{className:"form-container",onSubmit:f},c.a.createElement("input",{className:"send-box",value:p,onChange:function(e){return d(e.target.value)},placeholder:"   Message..."}),c.a.createElement("button",{className:"send-btn",type:"submit"},"Send")))}function w(e){var t=Object(n.useState)("University of Guelph"),a=Object(s.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)("MCS1000"),i=Object(s.a)(o,2),m=i[0],h=i[1],p=b.collection("schools"),d=p.doc(l).collection("classes"),f=Object(u.a)(p,{idField:"id"}),E=Object(s.a)(f,1)[0],v=Object(u.a)(d,{idField:"id"}),S=Object(s.a)(v,1)[0],j=Object(n.useState)(!1),C=Object(s.a)(j,2),O=C[0],N=C[1];return O?c.a.createElement("div",null,c.a.createElement(y,{currentClass:m,currentSchool:l,setClass:h,setSchool:r,schools:E,classes:S,schoolsQuery:p,classesQuery:d})):c.a.createElement("div",null,c.a.createElement(g,{onSubmit:N}))}r.a.render(c.a.createElement(w,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.4ffc5fb5.chunk.js.map